# Milestone v1.0: MVP

**Status:** SHIPPED 2026-02-06
**Phases:** 1-7
**Total Plans:** 25

## Overview

429chain delivers an OpenAI-compatible proxy that maximizes free AI inference by waterfalling requests through configurable provider chains. The roadmap builds from a working non-streaming proxy with waterfall routing (Phase 1) through SSE streaming (Phase 2), intelligent rate limit tracking (Phase 3), observability (Phase 4), a management Web UI (Phase 5), production-ready Docker deployment (Phase 6), and CLI support (Phase 7). Each phase delivers a coherent, verifiable capability that builds on the previous.

## Phases

### Phase 1: Core Waterfall Proxy
**Goal**: Users can send OpenAI-compatible chat requests that automatically waterfall through provider chains when rate limits are hit
**Depends on**: Nothing (first phase)
**Requirements**: PRXY-01, PRXY-03, PRXY-04, PRXY-05, PRXY-06, CHAN-01, CHAN-02, CHAN-03, RATE-01, RATE-02, DEPL-01, DEPL-03
**Plans**: 4 plans

Plans:
- [x] 01-01-PLAN.md -- Project scaffolding, config schema, and foundation types (Wave 1)
- [x] 01-02-PLAN.md -- Provider adapter layer and chain configuration (Wave 2)
- [x] 01-03-PLAN.md -- Waterfall chain router with reactive 429 handling and cooldown (Wave 2)
- [x] 01-04-PLAN.md -- OpenAI-compatible HTTP endpoints and auth middleware (Wave 3)

### Phase 2: SSE Streaming
**Goal**: Users receive real-time token-by-token streaming responses through the proxy
**Depends on**: Phase 1
**Requirements**: PRXY-02
**Plans**: 2 plans

Plans:
- [x] 02-01-PLAN.md -- Streaming types, BaseAdapter.chatCompletionStream(), and SSE parser utility (Wave 1)
- [x] 02-02-PLAN.md -- Pre-stream waterfall router and streaming chat route with abort cleanup (Wave 2)

### Phase 3: Rate Limit Intelligence
**Goal**: The proxy proactively avoids exhausted providers by tracking rate limit headers, eliminating wasted 429 requests
**Depends on**: Phase 2
**Requirements**: RATE-03, RATE-04, RATE-05
**Plans**: 4 plans

Plans:
- [x] 03-01-PLAN.md -- Three-state rate limit tracker with quota tracking (TDD) (Wave 1)
- [x] 03-02-PLAN.md -- Proactive quota tracking in both chain routers (Wave 2)
- [x] 03-03-PLAN.md -- Manual rate limit config schema and fallback enforcement (Wave 2)
- [x] 03-04-PLAN.md -- Gap closure: wire manual rate limit init into startup (Wave 1)

### Phase 4: Observability & Persistence
**Goal**: Users can see what the proxy is doing -- which providers are being used, how many tokens are consumed, and current rate limit status
**Depends on**: Phase 3
**Requirements**: OBSV-01, OBSV-02, OBSV-03, OBSV-04
**Plans**: 3 plans

Plans:
- [x] 04-01-PLAN.md -- SQLite persistence module: better-sqlite3, config schema, DB init, schema migration, RequestLogger, UsageAggregator
- [x] 04-02-PLAN.md -- Request logging wiring: DB bootstrap in index.ts, fire-and-forget logging in chat routes, streaming token capture
- [x] 04-03-PLAN.md -- Stats and rate limit status API endpoints: usage queries and live provider status

### Phase 5: Web UI
**Goal**: Users can manage providers, chains, and monitor usage through a browser-based dashboard without editing config files
**Depends on**: Phase 4
**Requirements**: WEBU-01, WEBU-02, WEBU-03, WEBU-04
**Plans**: 6 plans

Plans:
- [x] 05-01-PLAN.md -- Admin API endpoints: CRUD for providers and chains with config persistence (Wave 1)
- [x] 05-02-PLAN.md -- React SPA scaffold: Vite + React Router + TanStack Query + layout + API client + static serving (Wave 1)
- [x] 05-03-PLAN.md -- Provider management page: list, add/edit form with Zod validation, delete (Wave 2)
- [x] 05-04-PLAN.md -- Chain editor page: chain list, drag-and-drop reorder with dnd-kit, add/remove entries (Wave 2)
- [x] 05-05-PLAN.md -- Usage dashboard: stats cards, scrollable request log, live rate limit status (Wave 2)
- [x] 05-06-PLAN.md -- Test endpoint page: send prompt, view provider/response/latency + human verification (Wave 3)

### Phase 6: Docker Deployment
**Goal**: Users can deploy the complete proxy with one command using Docker
**Depends on**: Phase 5
**Requirements**: DEPL-02
**Plans**: 3 plans

Plans:
- [x] 06-01-PLAN.md -- Multi-stage Dockerfile and .dockerignore for production image build
- [x] 06-02-PLAN.md -- docker-compose.yml with volumes, environment handling, and health check
- [x] 06-03-PLAN.md -- End-to-end deployment validation and human verification

### Phase 7: CLI Support
**Goal**: Users can install and run 429chain as a CLI tool via npm/npx
**Depends on**: Phase 6
**Requirements**: DEPL-04
**Plans**: 3 plans

Plans:
- [x] 07-01-PLAN.md -- CLI entry point (src/cli.ts) and package.json distribution config (Wave 1)
- [x] 07-02-PLAN.md -- import.meta.url static file paths and graceful missing-config handling (Wave 1)
- [x] 07-03-PLAN.md -- Build pipeline verification and end-to-end CLI validation (Wave 2)

## Progress

| Phase | Plans Complete | Status | Completed |
|-------|---------------|--------|-----------|
| 1. Core Waterfall Proxy | 4/4 | Complete | 2026-02-05 |
| 2. SSE Streaming | 2/2 | Complete | 2026-02-05 |
| 3. Rate Limit Intelligence | 4/4 | Complete | 2026-02-05 |
| 4. Observability & Persistence | 3/3 | Complete | 2026-02-05 |
| 5. Web UI | 6/6 | Complete | 2026-02-06 |
| 6. Docker Deployment | 3/3 | Complete | 2026-02-06 |
| 7. CLI Support | 3/3 | Complete | 2026-02-06 |

---

## Milestone Summary

**Key Decisions:**
- ESM-only project with NodeNext module resolution
- Hono web framework for lightweight HTTP
- Zod v4 for config and API validation
- SQLite with WAL mode for observability (file-based, concurrent reads)
- React 19 + Vite + TanStack Query for UI
- tsdown for bundling (ESM output with .mjs files)
- util.parseArgs (Node built-in) for CLI argument parsing
- import.meta.url for package-relative path resolution in ESM

**Issues Resolved:**
- Dockerfile CMD referenced dist/index.js instead of dist/index.mjs (ESM output)
- ChainEditor component commented out due to parallel agent timing (fixed post-verification)
- PORT env var set by CLI but not read by server (fixed in Phase 7)
- cli.ts typeof guards needed for parseArgs string|true union type

**Issues Deferred:**
None - all planned features shipped.

**Technical Debt Incurred:**
None significant - clean codebase with 88 tests passing.

---
*For current project status, see .planning/ROADMAP.md*
